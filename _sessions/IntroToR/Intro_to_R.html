<!DOCTYPE html>
<html>
  <head>
    <title>Intro to R</title>
    <meta charset="utf-8">
    <meta name="author" content=" Dirk Wulff" />
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link rel="stylesheet" href="my-theme.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Intro to R
### <br><a href='www.dirkwulff.org'>Dirk Wulff</a>
### July 2018

---


layout: true

&lt;div class="my-footer"&gt;&lt;span&gt;
&lt;a href="https://dwulff.github.io/Mousetracking_EADM_SS2018/"&gt;&lt;font color="#7E7E7E"&gt;Salzburg, July 2018&lt;/font&gt;&lt;/a&gt;
&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;
&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;
&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;
&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;
&lt;a href="https://dwulff.github.io/Mousetracking_EADM_SS2018/"&gt;&lt;font color="#7E7E7E"&gt;EADM Summer School&lt;/font&gt;&lt;/a&gt;
&lt;/span&gt;&lt;/div&gt; 

---








# Why R

.pull-left3[
R steadily **grows in popularity**. 

Today, R is one of the **most popular languages for data science** and overall. 

In terms of the number of data science jobs, **R beats SAS and Matlab**, and is on par with Python:
]

.pull-left65[
&lt;p align="center"&gt;&lt;img src="https://i0.wp.com/r4stats.com/wp-content/uploads/2017/02/Fig-1a-IndeedJobs-2017.png" height="370"&gt;&lt;/p&gt;

&lt;p style="font-size:10px" align="center"&gt;source: https://i0.wp.com/r4stats.com/&lt;p&gt;
]

---

# R is so popular because

There are many good reasons to prefer R over superficially more user friendly software such as **Excel** or **SPSS** or more complex programming languages like **C++** or **Python**. 

.pull-left45[
### Pro
1. **It's free**
2. Relatively **easy**
3. **Extensibility** ([CRAN](https://cran.r-project.org/), packages)
4. **User base** (e.g., [stackoverflow](https://stackoverflow.com/))
5. [**Tidyverse**](https://www.tidyverse.org/) (`dplyr`, `ggplot`, etc.)
6. [**RStudio**](https://www.rstudio.com/)
7. **Productivity** options: [Latex](https://www.latex-project.org/), [Markdown](https://daringfireball.net/projects/markdown/), [GitHub](https://github.com/)
]

.pull-right45[
### Con
Sometimes slow and awkward, but... 

[Tidyverse](https://www.tidyverse.org/)
[Rcpp](http://www.rcpp.org/), [BH](https://cran.r-project.org/web/packages/BH/index.html): Links R to C++ and high-performance C++ libraries&lt;br&gt;
[rPython](http://rpython.r-forge.r-project.org/): Links R to Python&lt;br&gt;
[RHadoop](https://github.com/RevolutionAnalytics/RHadoop/wiki): Links R to Hadoop for big data applications.&lt;br&gt;
]

---

# RStudio: R's favorite environment

Next to many useful packages, R users greatly benefit from R's integrated development environment [**RStudio**](https://www.rstudio.com/). Rstudio is a **graphical user interface** that allows you to (a) edit code, (b) run code, (c) access files and history, and (d) create plots. RStudio also helps you with **project management**, **version control** via [Github](https://github.com/), writing **reports** using [markdown](http://rmarkdown.rstudio.com/authoring_basics.html) and [knitr](https://yihui.name/knitr/), and many other aspects of working with R.  

&lt;p align="center"&gt;&lt;img src="https://raw.githubusercontent.com/therbootcamp/therbootcamp.github.io/master/_sessions/_image/rstudio_plus.png" height="360"&gt;&lt;/p&gt;


---

# Essentials: 15 lessons of R &amp; Mousetrap

.pull-left4[
1. Everything is an object
2. Use `&lt;-` to create/change objects
3. Name objects using `_`
4. Objects have classes
5. Everything happens through functions
6. Functions have arguments
7. Arguments can have defaults
8. Functions expect certain object classes
9. View help files using `?`
10. Data is stored in lists
11. Select variables (vectors) using `$`
12. Use RStudio and projects
13. Code in the editor
14. First load packages and data
15. Comment and format for readability
]

---

# Essentials: 15 lessons of R &amp; Mousetrap

.pull-left4[
1. **Everything is an object**
2. **Use `&lt;-` to create/change objects**
3. **Name objects using `_`**
4. Objects have classes
5. Everything happens through functions
6. Functions have arguments
7. Arguments can have defaults
8. Functions expect certain object classes
9. View help files using `?`
10. Data is stored in lists
11. Select variables (vectors) using `$`
12. Use RStudio and projects
13. Code in the editor
14. First load packages and data
15. Comment and format for readability
]

.pull-right5[

```r
# an object called some_name
some_name &lt;- 4

# add 2 to the object's numbers
some_name + 2
```

```
## [1] 6
```

```r
# print object
some_name
```

```
## [1] 4
```

```r
# make change permanent
some_name &lt;- some_name + 2

# print object
some_name
```

```
## [1] 6
```
]

---

# Essentials: 15 lessons of R &amp; Mousetrap

.pull-left4[
1. Everything is an object
2. Use `&lt;-` to create/change objects
3. Name objects using `_`
4. **Objects have classes**
5. Everything happens through functions
6. Functions have arguments
7. Arguments can have defaults
8. Functions expect certain object classes
9. View help files using `?`
10. Data is stored in lists
11. Select variables (vectors) using `$`
12. Use RStudio and projects
13. Code in the editor
14. First load packages and data
15. Comment and format for readability
]

.pull-right5[


```r
# class of object some_name
class(some_name)
```

```
## [1] "numeric"
```

```r
# class of a list
class(list())
```

```
## [1] "list"
```

```r
# class of a mousetrap object
class(spivey_mt)
```

```
## [1] "mousetrap"
```
]

---

# Essentials: 15 lessons of R &amp; Mousetrap

.pull-left4[
1. Everything is an object
2. Use `&lt;-` to create/change objects
3. Name objects using `_`
4. Objects have classes
5. **Everything happens through functions**
6. Functions have arguments
7. Arguments can have defaults
8. Functions expect certain object classes
9. View help files using `?`
10. Data is stored in lists
11. Select variables (vectors) using `$`
12. Use RStudio and projects
13. Code in the editor
14. First load packages and data
15. Comment and format for readability
]

.pull-right5[

```r
# function c()
some_name &lt;- c(1, 2, 3)

# function `+`()
some_name + 2
```

```
## [1] 3 4 5
```

```r
# function print()
some_name
```

```
## [1] 1 2 3
```

```r
# function class()
class(some_name)
```

```
## [1] "numeric"
```
]


---

# Essentials: 15 lessons of R &amp; Mousetrap

.pull-left4[
1. Everything is an object
2. Use `&lt;-` to create/change objects
3. Name objects using `_`
4. Objects have classes
5. Everything happens through functions
6. **Functions have arguments**
7. **Arguments can have defaults**
8. Functions expect certain object classes
9. View help files using `?`
10. Data is stored in lists
11. Select variables (vectors) using `$`
12. Use RStudio and projects
13. Code in the editor
14. First load packages and data
15. Comment and format for readability
]

.pull-right5[

```r
# no argument
mean()
```

```
## Error in mean.default(): argument "x" is missing, with no default
```

```r
# required argument
mean(c(1, 2, 3))
```

```
## [1] 2
```

```r
# introducing NA
mean(c(1, 2, 3, NA))
```

```
## [1] NA
```

```r
# changing default to handle NA
mean(c(1, 2, 3, NA), na.rm = TRUE)
```

```
## [1] 2
```
]

---

# Essentials: 15 lessons of R &amp; Mousetrap

.pull-left4[
1. Everything is an object
2. Use `&lt;-` to create/change objects
3. Name objects using `_`
4. Objects have classes
5. Everything happens through functions
6. Functions have arguments
7. Arguments can have defaults
8. **Functions expect certain object classes**
9. View help files using `?`
10. Data is stored in lists
11. Select variables (vectors) using `$`
12. Use RStudio and projects
13. Code in the editor
14. First load packages and data
15. Comment and format for readability
]

.pull-right5[

```r
# mean works also for logical
mean(c(TRUE, FALSE, TRUE))
```

```
## [1] 0.6667
```

```r
# but not for character
mean(c("a", "b", "c"))
```

```
## [1] NA
```

```r
# classes relevant for all arg's
mean(c(1, 2, 3), na.rm = "test")
```

```
## Error in if (na.rm) x &lt;- x[!is.na(x)]: argument is not interpretable as logical
```
]

---

# Essentials: 15 lessons of R &amp; Mousetrap

.pull-left4[
1. Everything is an object
2. Use `&lt;-` to create/change objects
3. Name objects using `_`
4. Objects have classes
5. Everything happens through functions
6. Functions have arguments
7. Arguments can have defaults
8. **Functions expect certain object classes**
9. View help files using `?`
10. Data is stored in lists
11. Select variables (vectors) using `$`
12. Use RStudio and projects
13. Code in the editor
14. First load packages and data
15. Comment and format for readability
]

.pull-right5[

```r
# mousetrap read in data
spivey_mt &lt;- mt_import_long(
  spivey,
  xpos_label = 'x',
  ypos_label = 'y',
  timestamps_label = 't',
  mt_id_label = c('ptp', 'trial')
  )

# compute trajectory derivatives
spivey_mt &lt;- mt_derivatives(
  spivey_mt
  )

# compute trajectory measures
spivey_mt &lt;- mt_measures(
  spivey_mt
  )
```
]


---

# Essentials: 15 lessons of R &amp; Mousetrap

.pull-left4[
1. Everything is an object
2. Use `&lt;-` to create/change objects
3. Name objects using `_`
4. Objects have classes
5. Everything happens through functions
6. Functions have arguments
7. Arguments can have defaults
8. Functions expect certain object classes
9. **View help files using `?`**
10. Data is stored in lists
11. Select variables (vectors) using `$`
12. Use RStudio and projects
13. Code in the editor
14. First load packages and data
15. Comment and format for readability
]

.pull-right5[

```r
?mean
```
&lt;p align="center"&gt;&lt;img src="https://raw.githubusercontent.com/therbootcamp/therbootcamp.github.io/master/_sessions/_image/help.png" width="500"&gt;&lt;/p&gt;
]

---

# Essentials: 15 lessons of R &amp; Mousetrap

.pull-left4[
1. Everything is an object
2. Use `&lt;-` to create/change objects
3. Name objects using `_`
4. Objects have classes
5. Everything happens through functions
6. Functions have arguments
7. Arguments can have defaults
8. Functions expect certain object classes
9. **View help files using `?`**
10. Data is stored in lists
11. Select variables (vectors) using `$`
12. Use RStudio and projects
13. Code in the editor
14. First load packages and data
15. Comment and format for readability
]

.pull-right5[

```r
?cor
```
&lt;p align="center"&gt;&lt;img src="https://raw.githubusercontent.com/therbootcamp/therbootcamp.github.io/master/_sessions/_image/help_cor.png" width="500"&gt;&lt;/p&gt;
]

---

# Essentials: 15 lessons of R &amp; Mousetrap

.pull-left4[
1. Everything is an object
2. Use `&lt;-` to create/change objects
3. Name objects using `_`
4. Objects have classes
5. Everything happens through functions
6. Functions have arguments
7. Arguments can have defaults
8. Functions expect certain object classes
9. **View help files using `?`**
10. Data is stored in lists
11. Select variables (vectors) using `$`
12. Use RStudio and projects
13. Code in the editor
14. First load packages and data
15. Comment and format for readability
]

.pull-right5[

```r
?mt_import_long
```
&lt;p align="center"&gt;&lt;img src="https://raw.githubusercontent.com/therbootcamp/therbootcamp.github.io/master/_sessions/_image/help_mtimport.png" width="500"&gt;&lt;/p&gt;
]

---

# Essentials: 15 lessons of R &amp; Mousetrap

.pull-left4[
1. Everything is an object
2. Use `&lt;-` to create/change objects
3. Name objects using `_`
4. Objects have classes
5. Everything happens through functions
6. Functions have arguments
7. Arguments can have defaults
8. Functions expect certain object classes
9. View help files using `?`
10. **Data is stored in lists**
11. Select variables (vectors) using `$`
12. Use RStudio and projects
13. Code in the editor
14. First load packages and data
15. Comment and format for readability
]

.pull-right5[



```r
# lists can contain any object
str(spivey_mt)
```

```
## List of 2
##  $ data        :'data.frame':	672 obs. of  6 variables:
##   ..$ paper          : chr [1:672] "Spivey2005" "Spivey2005" "Spivey2005" "Spivey2005" ...
##   ..$ ptp            : int [1:672] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ trial          : int [1:672] 7 9 10 12 14 15 16 19 21 22 ...
##   ..$ condition      : Factor w/ 3 levels "cohort","control",..: 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ target.location: Factor w/ 2 levels "left","right": 1 1 1 1 2 2 2 2 1 1 ...
##   ..$ mt_id          : chr [1:672] "1_7" "1_9" "1_10" "1_12" ...
##  $ trajectories: int [1:672, 1:105, 1:3] 0 0 0 0 0 0 0 0 0 0 ...
##   ..- attr(*, "dimnames")=List of 3
##   .. ..$ : chr [1:672] "1_7" "1_9" "1_10" "1_12" ...
##   .. ..$ : NULL
##   .. ..$ : chr [1:3] "timestamps" "xpos" "ypos"
##  - attr(*, "class")= chr "mousetrap"
```
]

---

# Essentials: 15 lessons of R &amp; Mousetrap

.pull-left4[
1. Everything is an object
2. Use `&lt;-` to create/change objects
3. Name objects using `_`
4. Objects have classes
5. Everything happens through functions
6. Functions have arguments
7. Arguments can have defaults
8. Functions expect certain object classes
9. View help files using `?`
10. Data is stored in lists
11. **Select variables using `$`**
12. Use RStudio and projects
13. Code in the editor
14. First load packages and data
15. Comment and format for readability
]

.pull-right5[


```r
# show data element
head(spivey_mt$data[,1:5])
```

```
##           paper ptp trial condition target.location
## 1_7  Spivey2005   1     7    cohort            left
## 1_9  Spivey2005   1     9    cohort            left
## 1_10 Spivey2005   1    10    cohort            left
## 1_12 Spivey2005   1    12    cohort            left
## 1_14 Spivey2005   1    14    cohort           right
## 1_15 Spivey2005   1    15    cohort           right
```

```r
# show trajectory element
spivey_mt$trajectories[1:4,1:8,'xpos']
```

```
##      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8]
## 1_7   503  503  503  504  504  506  508  509
## 1_9   508  511  520  537  539  539  539  538
## 1_10  516  522  533  541  543  545  547  549
## 1_12  506  493  491  481  482  483  483  489
```

]

---

# Essentials: 15 lessons of R &amp; Mousetrap

.pull-left4[
1. Everything is an object
2. Use `&lt;-` to create/change objects
3. Name objects using `_`
4. Objects have classes
5. Everything happens through functions
6. Functions have arguments
7. Arguments can have defaults
8. Functions expect certain object classes
9. View help files using `?`
10. Data is stored in lists
11. Select variables using `$`
12. **Use RStudio and projects**
13. Code in the editor
14. First load packages and data
15. Comment and format for readability
]

.pull-right5[
### Projects help...
save workspace and history &amp;#9679; set project specific options &amp;#9679; access files &amp;#9679; version control &amp;#9679; etc.
&lt;p align="left"&gt;&lt;img src="https://raw.githubusercontent.com/therbootcamp/therbootcamp.github.io/master/_sessions/_image/projects_1.png" width="360"&gt;&lt;/p&gt;
]

---

# Essentials: 15 lessons of R &amp; Mousetrap

.pull-left4[
1. Everything is an object
2. Use `&lt;-` to create/change objects
3. Name objects using `_`
4. Objects have classes
5. Everything happens through functions
6. Functions have arguments
7. Arguments can have defaults
8. Functions expect certain object classes
9. View help files using `?`
10. Data is stored in lists
11. Select variables using `$`
12. Use RStudio and projects
13. **Code in the editor**
14. **First load packages and data**
15. Comment and format for readability
]



.pull-right5[


```r
# import packages
library(tidyverse)
library(yarrr)
library(lme4)

# import data
spivey &lt;- readRDS("spivey.RDS")
```
&lt;br&gt;
### The goal is...
... to create self-contained scripts that run uninterrupted from  beginning to start.
]

---

# Essentials: 15 lessons of R &amp; Mousetrap

.pull-left4[
1. Everything is an object
2. Use `&lt;-` to create/change objects
3. Name objects using `_`
4. Objects have classes
5. Everything happens through functions
6. Functions have arguments
7. Arguments can have defaults
8. Functions expect certain object classes
9. View help files using `?`
10. Data is stored in lists
11. Select variables (vectors) using `$`
12. Use RStudio and projects
13. Code in the editor
14. First load packages and data
15. **Comment and format for readability**

&lt;br&gt;
See also &lt;a href="http://style.tidyverse.org/"&gt;&lt;b&gt;style.tidyverse.org&lt;/b&gt;&lt;/a&gt;
]


.pull-right5[
### Bad

```r
spivey_mt &lt;- mt_derivatives(mt_import_long(spivey,
xpos_label='x',ypos_label='y',timestamps_label='t',
mt_id_label = c('ptp', 'trial')
```

### Good

```r
# mousetrap read in data
spivey_mt &lt;- mt_import_long(
  spivey,
  xpos_label = 'x', ypos_label = 'y',
  timestamps_label = 't',
  mt_id_label = c('ptp', 'trial')
  )

# compute trajectory derivatives
spivey_mt &lt;- mt_derivatives(spivey_mt)
```

]

---

# Interactive session

&lt;p&gt;&lt;font size=6&gt;Open up **Rstudio**...&lt;/font&gt;
    </textarea>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function() {
  var d = document, s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})();</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
  }
});
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
